/*
**  Name:		bug_112177_01
**  Series:		bugs
**  Meta-Series:
**  Dependencies:	None
**  Description:	Backup and restore a database with a default
**                      field containing non-english characters.
**
**  Expected result:	GBAK shouldn't abort.
**			
**  Author:		Patrick J. P. Griffin
**  Bugs:		[ Bug #112177 ] error with non-english column defaults
**  Change history:
**
*/

$ CREATE cf_test.sql
set names win1251;
create database "WHERE_GDB:cf.gdb";

create table bug_bugbase ( 
s varchar(20) character set win1251 default 'RôbértNélsôn' not null collate win1251,
i smallint default '1234' not null
); 

insert into bug_bugbase (s) values('BruceNélsôn');
insert into bug_bugbase (s) values('narf');
insert into bug_bugbase (i) values(4321);

exit;

$ ISQL -m -input cf_test.sql
$ GBAK -b WHERE_GDB:cf.gdb cf.gbak
$ RUN drop_gdb WHERE_GDB:cf.gdb
$ GBAK -r cf.gbak WHERE_GDB:cf.gdb
$ RUN drop_gdb WHERE_GDB:cf.gdb
$ DELETE cf_test.sql cf.gbak
